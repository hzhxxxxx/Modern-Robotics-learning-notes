
### 【1】控制系统概述

每一种情况下，机器人控制器的工作是将任务要求转换为执行器上的力和力矩，
相应的控制策略被称为运动控制、力控制、混合运动力控制或阻抗控制，选取何种控制策略取决于任务和环境。

而一个典型的控制框图如下所示
![[Pasted image 20250722140600.png]]

而我们将放大器，执行器和变速器集中在一起，视为完美发挥其功能的假设，则可以简化成下图。
![[Pasted image 20250722140715.png]]


### 【2】误差响应

- 1，*误差响应*
	如果期望关节位置为$\theta_d(t)$，而实际关节位置为$\theta(t)$，那么我们将关节误差响应定义为：$$\theta_e(t)=\theta_d(t)-\theta(t)$$

- 2,误差响应的图
	其实是（单位）误差响应，我们将初始误差设定为1，$\theta_e(0)=1$。然后观察误差随时间的变化。
	![[Pasted image 20250722141525.png]]
	最后误差会趋近一个稳定的值，这个叫做*稳态误差*
	
	而图里还有两个值得关注的值这两个都属于瞬态误差，一个是*调节时间*：调节到某一允许误差范围（通常是2%）内所需的时间，即对于所有的时间$t$，当$t>=T$第一次实现$\left|\theta_e(t)-e_{\mathrm{ss}}\right| \leq 0.02\left(\theta_e(0)-e_{\mathrm{ss}}\right)$这一条件的时间$T$。
	
	*超调*：$$\text{超调} = \left| \frac{\theta_{e,\min} - e_{\text{ss}}}{\theta_{e}(0) - e_{\text{ss}}} \right| \times 100\%$$其实就是最大调节偏差值相对于整体初始偏差值的比值
	
	一个好的误差响应应有下列特征：
	没有稳态误差或者很小
	没有超调或者很小
	2%调节时间很短



### 【3】误差动力学

*其实就是上面的误差响应图可以通过一个线性微分方程来描述。其都代表了误差$\theta_e(t)$随时间演化的数学模型。*
$$a_p\theta_e^{(p)}+a_{p-1}\theta_e^{(p-1)}+\cdots+a_2\ddot{\theta}_e+a_1\dot{\theta}_e+a_0\theta_e=c.$$
这里的$\theta_e^{(p)}$是代表$\theta_e$的$p$阶导的意思
当$c=0$时为齐次方程，代表系统无扰动或外部输入的自由响应
当$c≠0$时为非齐次方程，代表可能有外部的干扰或有输入
以下我们都讨论$c=0$的齐次方程情况。

这个方程可以改写成：$$\theta_{e}^{(p)}=-a_{p-1}^{\prime}\theta_{e}^{(p-1)}-\cdots-a_{2}^{\prime}\ddot{\theta}_{e}-a_{1}^{\prime}\dot{\theta}_{e}-a_{0}^{\prime}\theta_{e}.$$可以定义这些变量$\theta_e(t)$为$x$,
$$\begin{aligned}
 & x_{1}=\theta_{e}, \\
 & x_{2}=\dot{x}_1=\dot{\theta}_e, \\
 & \dot{x}_{p}=-a_{0}^{\prime}x_{1}-a_{1}^{\prime}x_{2}-\cdots-a_{p-1}^{\prime}x_{p}
\end{aligned}$$
可以通过一个矩阵乘法$\dot{x}(t)=Ax(t)$把这些信息打包👇，$$A=
\begin{bmatrix}
0 & 1 & 0 & \cdots & 0 & 0 \\
0 & 0 & 1 & \cdots & 0 & 0 \\
\vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
0 & 0 & 0 & \cdots & 1 & 0 \\
0 & 0 & 0 & \cdots & 0 & 1 \\
-a_0^{\prime} & -a_1^{\prime} & -a_2^{\prime} & \cdots & -a_{p-2}^{\prime} & -a_{p-1}^{\prime}
\end{bmatrix}$$对于这个矩阵来说，其特征值$s$可以构成一个方程，叫做*特征方程*$$s^{p}+a_{p-1}^{\prime}s^{p-1}+\cdots+a_{2}^{\prime}s^{2}+a_{1}^{\prime}s+a_{0}^{\prime}=0$$

接下来讨论一下*系统的稳定性*，因为系统的稳定性与特征方程息息相关。
- 1，*特征方程的每个根都具有负实部*（也就是位于复平面左半平面）时，系统才是稳定的。
- 2，系统稳定的话，特征方程所有系数必须>0。但是反之所有系数都>0不一定一定是稳定系统。所以只能快速初步地筛选一下。
- 3，*劳斯判据*：
	对于这样的特征方程$a_{0}s^{n}+a_{1}s^{n-1}+\cdots+a_{n-1}s+a_{n}=0$
	可以列劳斯表：
	![[Pasted image 20250722150631.png]]
	系统稳定的条件是第一列的各数值都为正数。
	而第一列符号改变的次数代表特征方程的正实根数目，也就是位于右半平面的特征根个数。



### 【4】一阶和二阶误差动力学

- 引入：
	我们要记住一个很典型的机械类比，线性的质量-弹簧-阻尼系统。
	质量块$m$的位置为$\theta_\mathrm{e}$,并且有一个外力$f$作用于该质量块。
	阻尼器对质量块施加一个力$-b\dot{\theta}_{e}$,其中$b$是阻尼常数；
	弹簧对质量块施加一个力$-k\theta_e$,其中$k$是弹簧常数。
	因此，质量块的运动方程可以表示为$$m\ddot{\theta}_e+b\dot{\theta}_e+k\theta_e=f$$


- *一阶误差动力学*：
	当质量块$m$趋近于0的时候，二阶动力学降阶为一阶动力学。
	$$b\dot{\theta}_e+k\theta_e=f$$       然后我们考虑齐次情况（$f=0$）,上面方程变成$$\dot{\theta}_e(t)+\frac{k}{b}\theta_e(t)=0$$       其中我们定义$t=b/k$，则$$\dot{\theta}_e(t)+\frac{1}{t}\theta_e(t)=0$$       注意这里是一个一阶微分方程的时间常数，是大约衰减到初始值37%大小时所对应的时间
	
	对于一阶系统的2%误差的调节时间，约为$4t$（依旧是时间常数）
	![[Pasted image 20250722152156.png]]




- *二阶误差动力学*：
	则运动方程可以写为$$\ddot{\theta}_e(t)+\frac{b}{\mathfrak{m}}\dot{\theta}_e(t)+\frac{k}{\mathfrak{m}}\theta_e(t)=0$$转换成标准的二阶系统形式：$$\color{#fb8b05}\ddot{\theta}_e(t)+2\zeta\omega_n\dot{\theta}_e(t)+\omega_n^2\theta_e(t)=0$$式中$\omega_n$称为*自然频率*，$\omega_{n}=\sqrt{k/\mathfrak{m}}$
	$\zeta$称为*阻尼比*，$\zeta=b/(2\sqrt{k\mathfrak{m}})$
	
	二阶系统的特征方程为：$$\color{#fb8b05}s^2+2\zeta\omega_ns+\omega_n^2=0$$其中两个根为$$s_{1}=-\zeta\omega_{n}+\omega_{n}\sqrt{\zeta^{2}-1}\quad\mathrm{and}\quad s_{2}=-\zeta\omega_{n}-\omega_{n}\sqrt{\zeta^{2}-1}$$
	
	
	如果系统稳定的话，可以根据阻尼比$\zeta$的大小分为三种情况：
	1，*过阻尼*$\zeta>1$
	2，*临界阻尼*$\zeta=1$
	3，*欠阻尼*$\zeta<1$
	![[Pasted image 20250722153335.png]]
	
	
	